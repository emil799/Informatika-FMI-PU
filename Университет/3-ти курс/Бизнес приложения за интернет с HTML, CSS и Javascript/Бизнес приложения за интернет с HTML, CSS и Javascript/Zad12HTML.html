<html> 
    <head>
    <meta http-equiv="Content-Type" content = "text/html>
    <meta charset="UTF-8">
    <title> Хотел </title>
    <script language = "JavaScript" >
    var i1 = 0 , i2 = 0, s=0, brn=0, z=0
    
    function validEmail ( email )
    {
    invalidChars = " /:,;"
    if ( email == "" ) return false
    for ( i = 0 ; i < invalidChars.length ; i++ )
    {
    badChar = invalidChars.charAt(i)
    if ( email.indexOf ( badChar ) > -1 ) return false
    }
    atPos = email.indexOf ( "@" )
    if ( atPos == -1 ) return false
    podniz = email.substring ( atPos+1 , email.length )
    if ( podniz.indexOf ( "@" ) != -1 ) return false
    periodPos = podniz.lastIndexOf ( "." )
    if ( periodPos == -1 ) return false
    if ( periodPos+3 > email.length ) return false
    alert("Е-mail-адресът е OK")
    return true
    }
    
    function validName ( passedVal )
    {
    var c = passedVal.charAt(0)
    if ( passedVal == "" ) return false
    if ( c < "А" || c > "Я" ) return false
    for ( i = 0 ; i < passedVal.length ; i++ )
    {
    c = passedVal.charAt(i)
    if ( c != ' ' && c < "А" ) return false
    if ( c > "я" ) return false
    }
    alert("Името е OK")
    return true
    }
    
    function izbor1 ( menu1 )
    { i1 = menu1.selectedIndex } // число от 0 до 3 за брой нощувки
    
    function izbor2 ( menu2 )
    { i2 = menu2.selectedIndex } // число от 0 до 2 за цена на една нощувка
    
    function submitIt ( f )
    {
    if ( !validName ( f.t1.value ) )
    {
    alert("Невалидно име!")
    f.t1.focus()
    f.t1.select()
    return false
    }
    if ( !validEmail ( f.t2.value ) )
    {
    alert("Невалиден email-адрес!")
    f.t2.focus()
    f.t2.select()
    return false
    }
    switch(i1)
     {
       case 0: brn=3; break
       case 1: brn=5; break
       case 2: brn=7; break
       case 3: brn=30;
     }
    switch(i2)
     {
       case 0: z=100; break
       case 1: z=180; break
       case 2: z=250;
     }
    s+= brn * z
    if ( f.elements[2].checked)
      alert("Плащане в брой")
    else
    if ( f.elements[3].checked)
      alert("Плащане в с карта")
    else
      alert("Плащане по банков път")
    
    if ( f.elements[5].checked)
    {  alert("Вечеря");   s+= brn * 25 }
    
    if ( f.elements[6].checked)
    {   alert("СПА");   s+= 40 }
    
    if ( f.elements[7].checked)
    {   alert("Екскурзия");   s+= 60 }
    
    alert("OK! Сума за плащане: "+ s)
    return true
    }
    document.write("<p align = right><i>" + Date() + "<\/p> <\/i>" )
    </script>
    </head>
    <body bgcolor=lightgreen>
    <h2> Хотел "РАЙ" Пампорово </h2>
    <h3> ЗАЯВКА ЗА НОЩУВКИ </h3>
    <form name = "f1" onSubmit = "return submitIt(document.f1)" >
    
    Задайте името си (на кирилица):
    <input type = "text" name = "t1" size = 40 > <p>
    Задайте e-mail-адреса си:
    <input type = "text" name = "t2" size = 31 > <p>
    
    Задайте форма на плащане:
    <input type = "Radio" name = "r1" value = "Кеш" checked > В брой &nbsp;
    <input type = "Radio" name = "r1" value = "Карта" > С карта &nbsp;
    <input type = "Radio" name = "r1" value = "Банка" > По банков път <p>
    
    Изберете услуги: <br>
    <input type = "Checkbox" name = "c1" value = "Вечеря" checked > Вечеря (+25 лв на ден) <br>
    <input type = "Checkbox" name = "c2" value = "СПА" > СПА (+40 лева) <br>
    <input type = "Checkbox" name = "c3" value = "Екскурзия" > Екскурзия (+60 лева) <p>
    
    Изберете брой нощувки: <br>
    <select name = "s1" onChange = "izbor1(this.form.s1)" >
    <option value = "3 нощувки" selected > 3 нощувки </option >
    <option value = "5 нощувки"> 5 нощувки </option >
    <option value = "7 нощувки"> 7 нощувки </option >
    <option value = "30 нощувки"> 30 нощувки </option >
    </select> <p>
    
    Цена за една нощувка: <br>
    <textarea name = "ta1" cols = 30 rows = 4 >
    Единична стая: 100 лева
    Стая с две легла: 180 лева
    Апартамент: 250 лева
    </textarea> <p>
    
    Изберете: <br>
    <select name = "s2" onChange = "izbor2(this.form.s2)" >
    <option value = "Единична стая"  > Единична стая </option >
    <option value = "Стая с две легла" selected> Стая с две легла </option >
    <option value = "Апартамент" > Апартамент </option >
    </select> <p>
    
    <textarea name = "ta2" cols = 60 rows = 4 >
    Ако желаете, задайте тук въпроси:
    </textarea> <p>
    <input type = "Submit" name = "b1" value = "Submit" > &nbsp;
    <input type = "Reset" name = "b2" value = "Reset" >
    </form>  
    </body>  
</html>
    